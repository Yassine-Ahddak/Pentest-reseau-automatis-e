# write_debug int_0-3
from datetime import datetime
class Logs:
    def __init__(self):
        self.level = 0

    def getConf(self):
        with open("conf.ini","r",encoding="UTF-8") as c:
            lines = c.readlines()
            for line in lines:
                line = line.split("=")
                if line[0] == "debug":
                    self.level = int(line[1])



    def Debug(self,log,log_level):
        self.getConf()
        date_actuelle = datetime.now()
        horodatage = date_actuelle.strftime("%a %d %b %H:%M:%S.%f")[:-3]
        match self.level:
            case 0:
                if log_level == self.level:
                    self.WriteFile(str(horodatage) +" : "+str(log)+"\r")
                    return
            case 1:
                if log_level <= self.level:
                    self.WriteFile(str(horodatage) +" : "+str(log)+"\r")
                    return
            case 2:
                if log_level <= self.level:
                    self.WriteFile(str(horodatage) +" : "+str(log)+"\r")
                    return
            case 3:
                if log_level <= self.level:
                    self.WriteFile(str(horodatage) +" : "+str(log)+"\r")
                    return


    def WriteFile(self,log):
        with open("log.txt","a+",encoding="UTF-8") as f:
            f.write(log)


    


